<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.Test</title>
    <style>
        img{
            height: 25px;
        }

        div{
            border: solid gray 2px;
        }
    </style>
</head>
<body>
    <form name="test">
        <h1>Test de Black Mirror</h1>
        <p>¿Cuántas temporadas hay actualmente?</p>
        <label><input name="temp" type="radio" value="2">2</label>
        <label><input name="temp" type="radio" value="3">3</label>
        <label><input name="temp" type="radio" value="5">5</label>
        <p>Los episodios siguen una misma trama.</p>
        <label><input name="trama" type="radio" value="v">Verdadero</label>
        <label><input name="trama" type="radio" value="f">Falso</label>
        <label><input name="trama" type="radio" value="n">Sí, pero sólo por temporadas</label>
        <p>¿Qué tema relaciona todos los episodios?</p>
        <label><input name="tema" type="radio" value="apoc">Inicio apocalipsis</label>
        <label><input name="tema" type="radio" value="dist">Futuro tecnológico distópico</label>
        <label><input name="tema" type="radio" value="mald">Espejos con maldiciones</label>
        <p>¿En qué episodio encontramos elementos de otros?</p>
        <label><input name="ep" type="radio" value="blm">Black Museum</label>
        <label><input name="ep" type="radio" value="mh">Mirrors House</label>
        <label><input name="ep" type="radio" value="brm">Broken Mirror</label>
        <p>¿Te ha gustado la serie?</p>
        <label><input name="like" type="radio" value="s">Sí</label>
        <label><input name="like" type="radio" value="c">Claro</label>
        <label><input name="like" type="radio" value="o">Obviamente</label>
        <br>
        <br>
        <button type="button" value="enviar">enviar</button>
        <br>
    </form>
    <script>
        let form = document.forms.test;
        let boton = document.querySelector("button");
        boton.addEventListener("click", enviar);

        let temp = form.elements.temp;
        let trama = form.elements.trama;
        let tema = form.elements.tema;
        let ep = form.elements.ep;
        let like = form.elements.like;

        let aciertos;
        let img;
        let div = document.createElement("div");
        let p = document.createElement("p");
        let error = document.createElement("p");
        error.textContent = "No has respondido a todas las preguntas";

        let ps = document.querySelectorAll("p");

        function enviar(e){
            aciertos = 0;
            img = document.createElement("img");
            if (temp.value == 5){
                aciertos++;
                img.remove();
                img.src = "tic.jpg";
            } else if(temp.value==""){
                form.append(error);
                return;
            } else{
                img.src = "cruz.jpg";
            }
            ps[0].append(img);
            img = document.createElement("img");
            if (trama.value == "f"){
                aciertos++;
                img.src = "tic.jpg";
            } else if(trama.value==""){
                form.append(error);
                return;
            } else{
                img.src = "cruz.jpg";
            }
            ps[1].append(img);
            img = document.createElement("img");
            if (tema.value == "dist"){
                aciertos++;
                img.src = "tic.jpg";
            } else if(tema.value==""){
                form.append(error);
                return;
            } else{
                img.src = "cruz.jpg";
            }
            ps[2].append(img);
            img = document.createElement("img");
            if (ep.value == "blm"){
                aciertos++;
                img.src = "tic.jpg";
            } else if(ep.value==""){
                form.append(error);
                return;
            } else{
                img.src = "cruz.jpg";
            }
            ps[3].append(img);
            img = document.createElement("img");
            if (like.value == "s" || like.value == "c" || like.value == "o"){
                aciertos++;
                img.src = "tic.jpg";
            } else if(like.value==""){
                form.append(error);
                return;
            } else{
                img.src = "cruz.jpg";
            }
            ps[4].append(img);

            p.textContent = `Puntuación: ${aciertos}/5`;
            div.append(p);
            form.append(div);
        }
    </script>
</body>
</html>